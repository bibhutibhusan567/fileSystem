(this["webpackJsonpfile-upload-system"]=this["webpackJsonpfile-upload-system"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),i=n(9),o=n.n(i),s=(n(15),n(4)),d=(n(16),n(23)),j=n(24),l=n(1);function a(e){return Object(l.jsxs)(d.a,{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"#"}),Object(l.jsx)("th",{children:"File Name"}),Object(l.jsx)("th",{children:"Date"}),Object(l.jsx)("th",{children:"Time"}),Object(l.jsx)("th",{}),Object(l.jsx)("th",{})]})}),Object(l.jsx)("tbody",{children:e.list.map((function(t,n){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:n+1}),Object(l.jsx)("td",{children:t.fileName}),Object(l.jsx)("td",{children:t.date}),Object(l.jsx)("td",{children:t.time}),Object(l.jsx)("td",{children:Object(l.jsx)(j.a,{onClick:function(){return e.downloadHandler(t.fileName)},children:"Download"})}),Object(l.jsx)("td",{children:Object(l.jsx)(j.a,{onClick:function(){return e.deleteHandler(t.id)},children:"Delete"})})]},n)}))})]})}var b=function(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),o=Object(s.a)(i,2),d=o[0],j=o[1],b=Object(c.useState)(),u=Object(s.a)(b,2),h=u[0],f=u[1],O=Object(c.useState)(),x=Object(s.a)(O,2),m=x[0],p=x[1];return Object(c.useEffect)((function(){fetch("/data").then((function(e){return e.json()})).then((function(e){e.error?f(e.error):(f(),console.log(e),j(e))}))}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),void 0!==n){var t=new FormData;t.append("file",n),t.append("fileName",n.name),fetch("/newfile",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){e.error?f(e.error):(f(),p(e.message),j(e.body))}))}else f("Please select a file to upload")},children:[Object(l.jsx)("input",{type:"file",name:"file",onChange:function(e){r(e.target.files[0])}}),Object(l.jsx)("input",{type:"submit",value:"upload"})]}),Object(l.jsx)("br",{}),h?Object(l.jsx)("div",{className:"error",children:h}):Object(l.jsx)("div",{className:"success",children:m}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(a,{list:d,downloadHandler:function(e){fetch("/download/".concat(e)).then((function(e){return e.blob()})).then((function(t){var n=window.URL.createObjectURL(new Blob([t])),c=document.createElement("a");c.href=n,c.setAttribute("download",e),document.body.appendChild(c),c.click(),c.parentNode.removeChild(c)}))},deleteHandler:function(e){fetch("/delete/".concat(e),{method:"delete"}).then((function(e){return e.json()})).then((function(e){e.error?f(e.error):(f(),j(e.body),p(e.message))}))}})]})};n(20);o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.b133c501.chunk.js.map